//
//     Generated by class-dump 3.5-MH (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard.
//

#import <NanoMailKitServer/NNMKSyncEndpoint.h>

#import <NanoMailKitServer/NNMKAccountsSyncServiceServerDelegate-Protocol.h>
#import <NanoMailKitServer/NNMKFetchesSyncServiceServerDelegate-Protocol.h>
#import <NanoMailKitServer/NNMKMessageContentSyncServiceServerDelegate-Protocol.h>
#import <NanoMailKitServer/NNMKMessagesSyncServiceServerDelegate-Protocol.h>
#import <NanoMailKitServer/PSYSyncCoordinatorDelegate-Protocol.h>

@class BLTPingSubscriber, NNMKAccountsSyncServiceServer, NNMKDeviceSyncRegistry, NNMKFetchesSyncServiceServer, NNMKMessageContentSyncServiceServer, NNMKMessagesSyncServiceServer, NNMKPairedDeviceInfo, NNMKProtectedContentSyncServiceServer, NNMKProtectedSyncServiceServer, NNMKProtoFetchRequest, NSDate, NSMutableDictionary, NSMutableSet, NSObject, NSString, NSURL, PSYSyncCoordinator;
@protocol NNMKSyncProviderDelegate, OS_dispatch_queue, OS_dispatch_source;

@interface NNMKSyncProvider : NNMKSyncEndpoint <NNMKMessagesSyncServiceServerDelegate, NNMKMessageContentSyncServiceServerDelegate, NNMKAccountsSyncServiceServerDelegate, NNMKFetchesSyncServiceServerDelegate, PSYSyncCoordinatorDelegate>
{
    BOOL _fullSyncRecoveredInThisSession;
    BOOL _trackingInitialSync;
    BOOL _waitingForBatchedMessagesForFetchResponse;
    id<NNMKSyncProviderDelegate> _delegate;
    NSObject<OS_dispatch_queue> *_providerQueue;
    BLTPingSubscriber *_notificationsPingSubscriber;
    PSYSyncCoordinator *_initialSyncCoordinator;
    NNMKDeviceSyncRegistry *_pairedDeviceRegistry;
    NNMKMessagesSyncServiceServer *_messagesSyncService;
    NNMKMessageContentSyncServiceServer *_contentSyncService;
    NNMKAccountsSyncServiceServer *_accountsSyncService;
    NNMKFetchesSyncServiceServer *_fetchesSyncService;
    NNMKProtectedSyncServiceServer *_protectedSyncService;
    NNMKProtectedContentSyncServiceServer *_protectedContentSyncService;
    NSMutableSet *_messageIdsToIgnoreStatusUpdates;
    unsigned long long _initialSyncResendInterval;
    double _initialSyncProgress;
    unsigned long long _initialSyncMessagesCount;
    NSMutableSet *_initialSyncMessageIdsToSyncContent;
    NSMutableSet *_initialSyncMessageIdsOfContentToAck;
    NSObject<OS_dispatch_source> *_fetchTimeoutTimer;
    NSMutableDictionary *_messagesToBeSentInBatch;
    NNMKProtoFetchRequest *_latestFetchRequest;
    NSMutableDictionary *_notificationPayloadAcks;
    unsigned long long _retryCountForRequestingMissingHeadersInBatchedResponse;
    NSDate *_lastRetryDate;
}

@property (strong, nonatomic) NNMKAccountsSyncServiceServer *accountsSyncService; // @synthesize accountsSyncService=_accountsSyncService;
@property (strong, nonatomic) NNMKMessageContentSyncServiceServer *contentSyncService; // @synthesize contentSyncService=_contentSyncService;
@property (readonly, copy) NSString *debugDescription;
@property (weak, nonatomic) id<NNMKSyncProviderDelegate> delegate; // @synthesize delegate=_delegate;
@property (readonly, copy) NSString *description;
@property (strong, nonatomic) NSObject<OS_dispatch_source> *fetchTimeoutTimer; // @synthesize fetchTimeoutTimer=_fetchTimeoutTimer;
@property (strong, nonatomic) NNMKFetchesSyncServiceServer *fetchesSyncService; // @synthesize fetchesSyncService=_fetchesSyncService;
@property (nonatomic) BOOL fullSyncRecoveredInThisSession; // @synthesize fullSyncRecoveredInThisSession=_fullSyncRecoveredInThisSession;
@property (readonly) unsigned long long hash;
@property (strong, nonatomic) PSYSyncCoordinator *initialSyncCoordinator; // @synthesize initialSyncCoordinator=_initialSyncCoordinator;
@property (strong, nonatomic) NSMutableSet *initialSyncMessageIdsOfContentToAck; // @synthesize initialSyncMessageIdsOfContentToAck=_initialSyncMessageIdsOfContentToAck;
@property (strong, nonatomic) NSMutableSet *initialSyncMessageIdsToSyncContent; // @synthesize initialSyncMessageIdsToSyncContent=_initialSyncMessageIdsToSyncContent;
@property (nonatomic) unsigned long long initialSyncMessagesCount; // @synthesize initialSyncMessagesCount=_initialSyncMessagesCount;
@property (nonatomic) double initialSyncProgress; // @synthesize initialSyncProgress=_initialSyncProgress;
@property (nonatomic) unsigned long long initialSyncResendInterval; // @synthesize initialSyncResendInterval=_initialSyncResendInterval;
@property (strong, nonatomic) NSDate *lastRetryDate; // @synthesize lastRetryDate=_lastRetryDate;
@property (strong, nonatomic) NNMKProtoFetchRequest *latestFetchRequest; // @synthesize latestFetchRequest=_latestFetchRequest;
@property (strong, nonatomic) NSMutableSet *messageIdsToIgnoreStatusUpdates; // @synthesize messageIdsToIgnoreStatusUpdates=_messageIdsToIgnoreStatusUpdates;
@property (readonly, nonatomic) BOOL messagesSyncActive;
@property (strong, nonatomic) NNMKMessagesSyncServiceServer *messagesSyncService; // @synthesize messagesSyncService=_messagesSyncService;
@property (strong, nonatomic) NSMutableDictionary *messagesToBeSentInBatch; // @synthesize messagesToBeSentInBatch=_messagesToBeSentInBatch;
@property (strong, nonatomic) NSMutableDictionary *notificationPayloadAcks; // @synthesize notificationPayloadAcks=_notificationPayloadAcks;
@property (strong, nonatomic) BLTPingSubscriber *notificationsPingSubscriber; // @synthesize notificationsPingSubscriber=_notificationsPingSubscriber;
@property (readonly, nonatomic) BOOL organizeByThread;
@property (readonly, nonatomic) NNMKPairedDeviceInfo *pairedDeviceInfo;
@property (strong, nonatomic) NNMKDeviceSyncRegistry *pairedDeviceRegistry; // @synthesize pairedDeviceRegistry=_pairedDeviceRegistry;
@property (strong, nonatomic) NNMKProtectedContentSyncServiceServer *protectedContentSyncService; // @synthesize protectedContentSyncService=_protectedContentSyncService;
@property (strong, nonatomic) NNMKProtectedSyncServiceServer *protectedSyncService; // @synthesize protectedSyncService=_protectedSyncService;
@property (strong, nonatomic) NSObject<OS_dispatch_queue> *providerQueue; // @synthesize providerQueue=_providerQueue;
@property (nonatomic) unsigned long long retryCountForRequestingMissingHeadersInBatchedResponse; // @synthesize retryCountForRequestingMissingHeadersInBatchedResponse=_retryCountForRequestingMissingHeadersInBatchedResponse;
@property (readonly) Class superclass;
@property (readonly, nonatomic) NSString *syncedMailboxAccountId;
@property (readonly, nonatomic) NSString *syncedMailboxCustomName;
@property (readonly, nonatomic) unsigned long long syncedMailboxType;
@property (readonly, nonatomic) NSURL *syncedMailboxURL;
@property (nonatomic) BOOL trackingInitialSync; // @synthesize trackingInitialSync=_trackingInitialSync;
@property (nonatomic) BOOL waitingForBatchedMessagesForFetchResponse; // @synthesize waitingForBatchedMessagesForFetchResponse=_waitingForBatchedMessagesForFetchResponse;

- (void).cxx_destruct;
- (void)_addMessages:(id)arg1 messagesAreNew:(BOOL)arg2;
- (id)_bbSubsectionIdsForMessage:(id)arg1;
- (void)_cancelFetchTimeout;
- (void)_checkBatchFetchedMessages;
- (void)_checkConnectivityBasedSuspensionTimer:(BOOL)arg1;
- (void)_clearForFullSyncWithAccountsSync:(BOOL)arg1;
- (BOOL)_currentSyncedMailboxAddsDeletesMessagesByStatusUpdates;
- (void)_executePendingResendsAndContentRequests;
- (void)_failPendingComposedMessages;
- (void)_fastForwardToFullSyncVersion:(unsigned long long)arg1;
- (id)_filterOutMessagesReceived:(id)arg1 byAlreadySynced:(BOOL)arg2 bySyncedMailboxType:(BOOL)arg3;
- (id)_filterOutMessagesReceivedByDateReceived:(id)arg1;
- (void)_handleDidFailSendingProtobufWithIDSIdentifier:(id)arg1 errorCode:(long long)arg2;
- (void)_handleDidPairWithNewDevice;
- (void)_handleDidSendProtobufSuccessfullyWithIDSIdentifier:(id)arg1;
- (void)_handleDidUnpair;
- (void)_handleDidUnpairNotification:(id)arg1;
- (void)_handleInitialSyncCompleted;
- (void)_handleMessageCompletelySynced:(id)arg1;
- (void)_handleNotificationPayloadAck:(CDUnknownBlockType)arg1 forMessageId:(id)arg2;
- (void)_handlePairedDeviceChangedNotification:(id)arg1;
- (void)_incrementInitialSyncProgressBy:(double)arg1;
- (BOOL)_isConnectedToWatch;
- (BOOL)_isDateReceivedOkForCurrentSyncedMailbox:(id)arg1;
- (BOOL)_isMessageOkForCurrentSyncedMailbox:(id)arg1;
- (BOOL)_isMessageStatusOkForCurrentSyncedMailbox:(unsigned long long)arg1;
- (void)_markConversationWithId:(id)arg1 forNotify:(BOOL)arg2;
- (BOOL)_messageHasContentCompletelySynced:(id)arg1;
- (id)_messageProtobufForMessage:(id)arg1;
- (void)_notifyClientNotifyInitialContentSyncCompleted;
- (void)_notifyDelegateThatMessagesStatusWereUpdated:(id)arg1;
- (void)_reportInitialSyncErrorWithMessage:(id)arg1;
- (void)_requestDelegateForAccounts;
- (void)_requestDelegateForContentForMessageIds:(id)arg1 highPriority:(BOOL)arg2;
- (void)_requestDelegateForContentForMessageWithId:(id)arg1 highPriority:(BOOL)arg2;
- (void)_requestDelegateForFetchForConversationId:(id)arg1;
- (void)_requestDelegateForFirstMessages;
- (void)_requestDelegateForMessagesToSendAsFetchResponseForMessageIds:(id)arg1;
- (void)_requestDelegateForMoreMessages;
- (void)_requestDelegateForMoreMessagesBeforeDateReceived:(id)arg1 forConversationWithId:(id)arg2;
- (void)_requestDelegateForResendingAccountWithId:(id)arg1;
- (void)_requestDelegateForResendingMessagesWithIds:(id)arg1;
- (void)_requestDelegateToSendComposedMessage:(id)arg1;
- (void)_requestDelegateToStopDownloadingAllMessageElements;
- (void)_requestDelegateToStopDownloadingMessageElementsForMessageWithId:(id)arg1;
- (void)_rescheduleFetchTimeout;
- (void)_resendInitialSyncWithIDSIdentifier:(id)arg1 newResendInterval:(unsigned long long)arg2;
- (void)_resendObjectIds:(id)arg1 type:(id)arg2 resendInterval:(unsigned long long)arg3 idsIdentifier:(id)arg4;
- (void)_resendPendingAccountWithIds:(id)arg1 forIDSIdentifier:(id)arg2 newResendInterval:(unsigned long long)arg3;
- (void)_resendPendingMessageContentWithId:(id)arg1 sentBecauseUserRequested:(BOOL)arg2 idsIdentifier:(id)arg3 newResendInterval:(unsigned long long)arg4;
- (void)_resendPendingMessagesWithIds:(id)arg1 forIDSIdentifier:(id)arg2 newResendInterval:(unsigned long long)arg3;
- (void)_resendSendingProgressForComposedMessageWithId:(id)arg1 forIDSIdentifier:(id)arg2 newResendInterval:(unsigned long long)arg3;
- (void)_scheduleIdsIdentifierForResend:(id)arg1 currentResendInterval:(unsigned long long)arg2 newResendInterval:(unsigned long long)arg3 errorCode:(long long)arg4;
- (void)_storeDeviceSpecificSettingsFromPairedDevice:(id)arg1;
- (id)_syncedMailboxForGetters;
- (void)_triggerFullMessagesAndAccountsSync;
- (void)_triggerFullMessagesSync;
- (void)_triggerFullMessagesSyncWithAccountsSync:(BOOL)arg1;
- (BOOL)_verifyDatabaseOkForFullSyncVersion:(unsigned long long)arg1;
- (void)_verifyPairingForcingSync:(BOOL)arg1;
- (BOOL)_willPresentNotificationForMessage:(id)arg1;
- (void)accountsSyncServiceServer:(id)arg1 didFailSendingProtobufWithIDSIdentifier:(id)arg2 errorCode:(long long)arg3;
- (void)accountsSyncServiceServer:(id)arg1 didSendProtobufSuccessfullyWithIDSIdentifier:(id)arg2;
- (void)addImageAttachment:(id)arg1 forMessageId:(id)arg2 contentId:(id)arg3 loadedProtected:(BOOL)arg4;
- (void)addMessageContent:(id)arg1 forMessage:(id)arg2 loadedProtected:(BOOL)arg3;
- (void)addMessages:(id)arg1;
- (void)addUpdateOrDeleteAccounts:(id)arg1;
- (id)bulletinFlagsForMessageStatus:(unsigned long long)arg1 dateReceived:(id)arg2 messageWillBeAddedToSyncProvider:(BOOL)arg3;
- (void)dealloc;
- (void)deleteMessagesWithIds:(id)arg1;
- (void)fetchesSyncServiceServer:(id)arg1 didFailSendingProtobufWithIDSIdentifier:(id)arg2 errorCode:(long long)arg3;
- (void)fetchesSyncServiceServer:(id)arg1 didNotifyInitialSyncFinished:(id)arg2;
- (void)fetchesSyncServiceServer:(id)arg1 didRequestContent:(id)arg2;
- (void)fetchesSyncServiceServer:(id)arg1 didRequestFetch:(id)arg2;
- (void)fetchesSyncServiceServer:(id)arg1 didRequestFullSync:(id)arg2;
- (void)fetchesSyncServiceServer:(id)arg1 didRequestHaltSync:(id)arg2;
- (void)fetchesSyncServiceServer:(id)arg1 didRequestMoreMessages:(id)arg2;
- (void)fetchesSyncServiceServer:(id)arg1 didRequestMoreMessagesForConversation:(id)arg2;
- (void)fetchesSyncServiceServer:(id)arg1 didSendProtobufSuccessfullyWithIDSIdentifier:(id)arg2;
- (id)initWithDelegate:(id)arg1;
- (void)markConversationIdForNotNotify:(id)arg1;
- (void)markConversationIdForNotify:(id)arg1 messages:(id)arg2 includesProtectedMessages:(BOOL)arg3;
- (void)messageContentSyncServiceServer:(id)arg1 didFailSendingProtobufWithIDSIdentifier:(id)arg2 errorCode:(long long)arg3;
- (void)messageContentSyncServiceServer:(id)arg1 didSendProtobufSuccessfullyWithIDSIdentifier:(id)arg2;
- (void)messagesSyncServiceServer:(id)arg1 didDeleteMessages:(id)arg2;
- (void)messagesSyncServiceServer:(id)arg1 didFailSendingProtobufWithIDSIdentifier:(id)arg2 errorCode:(long long)arg3;
- (void)messagesSyncServiceServer:(id)arg1 didRequestCompactMessages:(id)arg2;
- (void)messagesSyncServiceServer:(id)arg1 didRequestSendMessage:(id)arg2;
- (void)messagesSyncServiceServer:(id)arg1 didSendProtobufSuccessfullyWithIDSIdentifier:(id)arg2;
- (void)messagesSyncServiceServer:(id)arg1 didUpdateMessagesStatus:(id)arg2;
- (void)messagesSyncServiceServer:(id)arg1 didWarnMessagesFilteredOut:(id)arg2;
- (void)messagesSyncServiceServerConnectivityChanged:(id)arg1;
- (void)messagesSyncServiceServerSpaceBecameAvailable:(id)arg1;
- (void)notifyFetchCompleted;
- (void)notifyOrganizeByThreadChanged;
- (void)notifySyncedMailboxChanged;
- (void)replyWithAccountToResend:(id)arg1;
- (void)replyWithAccounts:(id)arg1;
- (void)replyWithFirstMessages:(id)arg1 includesProtectedMessages:(BOOL)arg2 syncedMailboxType:(unsigned long long)arg3 syncedMailboxAccountId:(id)arg4 syncedMailboxURL:(id)arg5 syncedMailboxCustomName:(id)arg6 organizeByThread:(BOOL)arg7;
- (void)replyWithMessageSendingProgress:(long long)arg1 forComposedMessageId:(id)arg2;
- (void)replyWithMessagesToResend:(id)arg1 includesProtectedMessages:(BOOL)arg2;
- (void)replyWithMessagesToSendAsFetchResponse:(id)arg1 includesProtectedMessages:(BOOL)arg2;
- (void)replyWithMoreMessages:(id)arg1 forConversationWithId:(id)arg2 includesProtectedMessages:(BOOL)arg3;
- (void)replyWithMoreMessages:(id)arg1 forDateReceivedBefore:(id)arg2 includesProtectedMessages:(BOOL)arg3;
- (void)reportMessageContentDownloadFailureForMessageId:(id)arg1;
- (void)reportWillDownloadFirstMessages;
- (void)resendIDSIdentifier:(id)arg1;
- (void)syncCoordinator:(id)arg1 beginSyncSession:(id)arg2;
- (void)syncCoordinator:(id)arg1 didInvalidateSyncSession:(id)arg2;
- (void)updateMessagesStatus:(id)arg1;

@end

