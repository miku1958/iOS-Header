//
//     Generated by class-dump 3.5-MH (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard.
//

#import <Email/EMRepositoryObject.h>

#import <Email/EFLoggable-Protocol.h>
#import <Email/EFSignpostable-Protocol.h>

@class EFFuture, EFPromise, EFQuery, NSHashTable, NSMutableOrderedSet, NSMutableSet, NSOrderedSet, NSString;
@protocol EFCancelable, EFScheduler;

@interface EMCollection : EMRepositoryObject <EFLoggable, EFSignpostable>
{
    NSMutableOrderedSet *_itemIDs;
    NSMutableSet *_itemIDsAnticipatingDelete;
    NSOrderedSet *_recoveringItemIDs;
    EFPromise *_allItemIDsPromise;
    struct os_unfair_lock_s _itemIDsLock;
    BOOL _foundAllItemIDs;
    BOOL _foundFirstBatch;
    struct os_unfair_lock_s _changeObserversLock;
    EFQuery *_query;
    id<EFCancelable> _cancelationToken;
    NSHashTable *_changeObservers;
    id<EFScheduler> _observerScheduler;
}

@property (readonly, nonatomic) EFFuture *allItemIDs;
@property (strong, nonatomic) id<EFCancelable> cancelationToken; // @synthesize cancelationToken=_cancelationToken;
@property (strong, nonatomic) NSHashTable *changeObservers; // @synthesize changeObservers=_changeObservers;
@property (readonly, copy) NSString *debugDescription;
@property (readonly, copy) NSString *description;
@property (readonly) unsigned long long hash;
@property (readonly, nonatomic) id<EFScheduler> observerScheduler; // @synthesize observerScheduler=_observerScheduler;
@property (readonly, nonatomic) EFQuery *query; // @synthesize query=_query;
@property (readonly, nonatomic) id<EFScheduler> queryScheduler;
@property (readonly) unsigned long long signpostID;
@property (readonly) Class superclass;

+ (id)log;
+ (id)signpostLog;
+ (BOOL)supportsSecureCoding;
- (void).cxx_destruct;
- (void)_cancelQuery;
- (void)_cancelQueryIfNeeded;
- (void)_commonInitWithQuery:(id)arg1;
- (void)_filterAndTransformObjectIDs:(id)arg1 before:(BOOL)arg2 existingObjectID:(id)arg3 batchBlock:(CDUnknownBlockType)arg4;
- (id)_firstExistingItemIDForItemID:(id)arg1 inReverse:(BOOL)arg2;
- (id)_itemIDsForObjectIDs:(id)arg1;
- (id)_iterateItemIDsStartingAtItemID:(id)arg1 inReverse:(BOOL)arg2 includeStartingItem:(BOOL)arg3 withBlock:(CDUnknownBlockType)arg4;
- (void)_performQuery;
- (void)_performQueryIfNeeded;
- (void)beginObserving:(id)arg1;
- (BOOL)containsItemID:(id)arg1 includeRecovery:(BOOL)arg2;
- (void)dealloc;
- (void)encodeWithCoder:(id)arg1;
- (void)enumerateObserversWithBlock:(CDUnknownBlockType)arg1;
- (void)finishRecovery;
- (id)firstExistingItemIDAfterItemID:(id)arg1;
- (id)firstExistingItemIDBeforeItemID:(id)arg1;
- (id)initWithCoder:(id)arg1;
- (id)initWithObjectID:(id)arg1 query:(id)arg2;
- (id)initWithQuery:(id)arg1 repository:(id)arg2;
- (void)insertItemIDs:(id)arg1 after:(id)arg2;
- (void)insertItemIDs:(id)arg1 before:(id)arg2;
- (BOOL)isRecovering;
- (id)itemIDForObjectID:(id)arg1;
- (id)iterateItemIDsStartingAtItemID:(id)arg1 inReverse:(BOOL)arg2 withBlock:(CDUnknownBlockType)arg3;
- (void)notifyChangeObserver:(id)arg1 stockedItemIDs:(id)arg2;
- (void)notifyChangeObserverAboutStockedItemIDs:(id)arg1;
- (void)notifyChangeObserversAboutAddedItemIDs:(id)arg1 after:(id)arg2 extraInfo:(id)arg3;
- (void)notifyChangeObserversAboutAddedItemIDs:(id)arg1 before:(id)arg2 extraInfo:(id)arg3;
- (void)notifyChangeObserversAboutChangesByItemIDs:(id)arg1;
- (BOOL)objectIDBelongsToCollection:(id)arg1;
- (id)objectIDForItemID:(id)arg1;
- (BOOL)observerContainsObjectID:(id)arg1;
- (void)queryAnticipatesDeletedObjectIDs:(id)arg1;
- (void)queryDidFinishInitialLoad;
- (void)queryDidFinishRemoteSearch;
- (void)queryDidStartRecovery;
- (void)queryMatchedAddedObjectIDs:(id)arg1 after:(id)arg2 extraInfo:(id)arg3;
- (void)queryMatchedAddedObjectIDs:(id)arg1 before:(id)arg2 extraInfo:(id)arg3;
- (void)queryMatchedChangesByObjectIDs:(id)arg1;
- (void)queryMatchedDeletedObjectIDs:(id)arg1;
- (void)queryMatchedMovedObjectIDs:(id)arg1 after:(id)arg2;
- (void)queryMatchedMovedObjectIDs:(id)arg1 before:(id)arg2;
- (void)queryReplacedObjectID:(id)arg1 withNewObjectID:(id)arg2;
- (id)removeItemIDs:(id)arg1;
- (void)stopObserving:(id)arg1;

@end

