//
//     Generated by class-dump 3.5-MH (64 bit).
//
//  Copyright (C) 1997-2019 Steve Nygard.
//

#import <Foundation/NSObject.h>

@class NSCondition, NSMutableArray, NSMutableDictionary, TSUWeakReference;
@protocol OS_dispatch_semaphore;

__attribute__((visibility("hidden")))
@interface TSKAccessController : NSObject
{
    TSUWeakReference *_delegate;
    struct _opaque_pthread_rwlock_t _rwLock;
    BOOL _secondaryThreadWriting;
    BOOL _thenReadingOnMainThread;
    NSCondition *_cond;
    NSMutableDictionary *_signalIdentifiers;
    NSMutableDictionary *_waitIdentifiers;
    struct __CFRunLoopSource *_mainThreadPingSource;
    NSMutableArray *_pendingMainThreadBlocks;
    struct {
        struct _opaque_pthread_t *threadId;
        unsigned int count;
        CDStruct_2a021fcd ticketInfo;
    } _readerInfo[64];
    CDStruct_2a021fcd _mainThreadTicketInfo;
    unsigned int _readerCount;
    NSMutableArray *_writerQueue;
    NSObject<OS_dispatch_semaphore> *_outstandingTicketReadLock;
    unsigned int _outstandingTicketCount;
    BOOL _writeLockHeld;
    unsigned long long _writeBlockedMainThreadCount;
    unsigned long long _mainThreadWriteCount;
}

- (void)assertHasRead;
- (void)assertHasReadOrWrite;
- (void)assertHasWrite;
- (void)dealloc;
- (BOOL)hasRead;
- (BOOL)hasWrite;
- (void)i_finishReadForTicket:(id)arg1;
- (void)i_startReadForTicket:(id)arg1;
- (id)init;
- (id)initWithDelegate:(id)arg1;
- (void)p_asyncPerformBlockOnMainThread:(CDUnknownBlockType)arg1;
- (void)p_blockMainThread;
- (void)p_blockMainThreadForWrite;
- (void)p_dequeueWrite;
- (void)p_didAcquireReadLock;
- (void)p_didAcquireWriteLock;
- (void)p_enqueueWriteAndBlockAllowingPendingWrites:(BOOL)arg1;
- (void)p_finishReadForTicketInfo:(CDStruct_2a021fcd *)arg1;
- (void)p_flushPendingMainThreadBlocksQueueAcquiringLock:(BOOL)arg1;
- (BOOL)p_hasRead;
- (BOOL)p_hasWrite;
- (BOOL)p_isMainThread;
- (void)p_performRead:(CDUnknownBlockType)arg1 eagerlyBlockingMainThread:(BOOL)arg2 thenWrite:(CDUnknownBlockType)arg3 allowingPendingWrites:(BOOL)arg4 thenReadOnMainThread:(CDUnknownBlockType)arg5;
- (void)p_performReadOnMainThread:(CDUnknownBlockType)arg1 result:(BOOL)arg2;
- (void)p_readLock;
- (void)p_readLockTakingRealLock:(BOOL)arg1;
- (void)p_readUnlock;
- (void)p_readUnlockReleasingRealLock:(BOOL)arg1;
- (void)p_scheduleMainThreadRead:(CDUnknownBlockType)arg1 result:(BOOL)arg2;
- (void)p_signalMainThreadWriteComplete;
- (void)p_signalThread:(id)arg1;
- (struct NSThread *)p_threadIdentifier;
- (CDStruct_2a021fcd *)p_ticketInfoForCurrentThread;
- (CDStruct_2a021fcd *)p_ticketInfoForTicket:(id)arg1;
- (void)p_unblockMainThread;
- (BOOL)p_waitWithCondition:(id)arg1 untilDate:(id)arg2;
- (void)p_willAcquireReadLock;
- (void)p_willAcquireWriteLock;
- (void)p_willRelinquishReadLock;
- (void)p_willRelinquishWriteLock;
- (void)p_writeLockAndBlockMainThread:(BOOL)arg1;
- (void)p_writeUnlock;
- (unsigned long long)p_writerQueueIndexOfThreadIdentifier:(struct NSThread *)arg1;
- (void)performRead:(CDUnknownBlockType)arg1;
- (void)performRead:(CDUnknownBlockType)arg1 thenWrite:(CDUnknownBlockType)arg2 thenReadOnMainThread:(CDUnknownBlockType)arg3;
- (void)performRead:(CDUnknownBlockType)arg1 thenWriteBeforePendingWrites:(CDUnknownBlockType)arg2 thenReadOnMainThread:(CDUnknownBlockType)arg3;
- (void)performReadAllowingOverlappingImplicitRead:(CDUnknownBlockType)arg1 thenWrite:(CDUnknownBlockType)arg2 thenReadOnMainThread:(CDUnknownBlockType)arg3;
- (void)performReadGrantingTicket:(CDUnknownBlockType)arg1;
- (void)performReadWithTicket:(id)arg1 block:(CDUnknownBlockType)arg2;
- (void)performWrite:(CDUnknownBlockType)arg1;
- (void)performWrite:(CDUnknownBlockType)arg1 blockMainThread:(BOOL)arg2;
- (void)signalIdentifier:(id)arg1;
- (void)waitOnIdentifier:(id)arg1;
- (BOOL)waitOnIdentifier:(id)arg1 untilDate:(id)arg2 releaseReadWhileWaiting:(BOOL)arg3;

@end

